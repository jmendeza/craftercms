version: "~> 1.0"
git:
  depth: 1
  quiet: true
language: java
jdk:
  - openjdk21
cache:
  directories:
    - "$HOME/.m2"
branches:
  only:
    - develop
    - support/4.1.x
    - support/4.0.x
    - master
notifications:
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
install: skip
script:
  - if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then
    bash -c "mvn -DskipTests -f shared-dependencies/pom.xml deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests -f spring-boot/pom.xml deploy --settings .travis-settings.xml";
    fi
  - if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then
    bash -c "mvn -DskipTests -f shared-dependencies/pom.xml deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests clean install"
    bash -c "mvn -DskipTests -f spring-boot/pom.xml clean install";
    fi
env:
  global:
    - secure: "mRCFLtcCiWLONBemD+Gt3nCnN42nOmvp/ozJqaJEZT6FTAQ0EypPGG/fX72HSmwXLoHleSufKqOZqTSxXTIbttVy6g2clznKWVW+yP8dnDBtwDx1YtyHlq6N+5MyrP/PkpoOGfk8MOSvzWoR9TXdafqit3+gQjtSmpmVOel4wVW0HuhQeIEsr/bZw+KOE3vjPh+MO08rlopqGwFEZ9ssx+UW98f9t/g0OqRAY/tMwo7DUDb9DFz2X5/9eaKaVRjthJyS14J5C8wBtYEjc0f+SIEGww2qgt7Y+uh9gOqUYGLuIwINrkNw0eWif6p1sRpa4fgM7NDLNiIzjIOO6rs7pOaiaWKQqqJ+coMSAqE6T+Ruv+zuRsOBl3xcUfMDHmEY5cpiWUU4xErKqSCrytmvrE1ixTCobv4J78O+Sj02+FGecuWS/Puw481QQjgHC0h5PDOSuIQt9D0b27HfMS53mZ370EdtGqSQ86h/S2eZT9eAXvZprJ/inebkOYVbk+tBH2A+J4BC8wm8RcQH86dx2TPl+POS48XK1tVEYpcKvu+MHzfTNnzOTsFDmphSx4EMsVLjeaB3FI0Z4MI8x0eULFyVkZewFVzlkqLJKeEfDdDY542QCMo78tDpc4NoPtvJDvu6k2ug8ibiHqcplWMD4bhWbi5mjkqR5edSG3avcUk="
    - secure: "q7g9iz2KalHW0/t8wKgQXsVF5CE6xOhbaC4NrR9PwhQuOazlJMsZzNGuwqwtFEquT+4saaGpPzCFQMoGw/hPPscmBwpyC5lXiC4JxcMMXJgoVTMuoMVPyPmuc/RLkRdGpvVqtJHjIrVPL4Mqr47KJTRJ2gmGf6PdAXx9/E44fpXl3lbfXzMncW4YsPClO2nzECE/4JlOKDA0g8jLsDpRh/9X/MgMUv/+FCH2hKv+FMDprbWinv0KieAhUAOZotTkVKXe8MRkg5TUjeZG220CwXGNgz0UAenelX8y5TjZlX6ck1Vzs6KYguAM0xf2YDsTAbTWkzVEtzLRAtRNHq8TDiqzOU8EwClCy0Ts6h1x6JLTFuOuT9vsbm3fC637gpxZVJ66HHk9MinAvavNCCMsLCTu4r30GeljLawGwHSKCi0yY9/NPcvWEstE8HqXvttK7GT5hga4GNNC0kE/6KAyts5LPcaSIaygksLKRy0/OCXUIIGkuOw+TJ4GpRVFT5fII6jsrQ83CnV9aFCjfp/wYLWlyREG2bFRlKfzYcfkmWos/1yzC6mEY3uusdSbWgp6fHPrlYy9RbAu3JjyrkZh7IJKqK7+vTAk4La75EN5caroI1zQo/cHOE7Yv6/KTlbRBAHVVYcM8fB1NemIoyiEAgMEGbrb6cBEA5iz4TeaUH8="
