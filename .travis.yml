version: "~> 1.0"
git:
  depth: 1
  quiet: true
language: java
jdk:
  - openjdk21
cache:
  directories:
    - "$HOME/.m2"
branches:
  only:
    - develop
    - support/4.1.x
    - support/4.0.x
    - master
notifications:
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
install: skip
script:
  - if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then
    bash -c "mvn -DskipTests -f shared-dependencies/pom.xml deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests -f spring-boot/pom.xml deploy --settings .travis-settings.xml";
    fi
  - if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then
    bash -c "mvn -DskipTests -f shared-dependencies/pom.xml deploy --settings .travis-settings.xml";
    bash -c "mvn -DskipTests clean install"
    bash -c "mvn -DskipTests -f spring-boot/pom.xml clean install";
    fi
env:
  global:
    - secure: "OS9qOLhzaASL2vRNTLnpObjVtuVJb0d0XZ9sRr2yGzRQuQz/Ne8a5oZKYICLT7f94ocJgZvMZKGU1bZXaFj0fZZwYJowsbSNmAp7O9xws29mm7/HfE/3DeIMyDzzcFi6UpMet01b1WGHQgtETDG0+YrirdsINHj02tJYhzeSQ98TFF4PBf+ubW/VhXz8CqPpZRCPV/DUFs3/MePoRNhBas1f25A/9KmTJRZSTzI3NE/7xf9eGMREiYxLgOnQnUY9Tljw52h22KkJj+GuHwwMFCLMpdtLS/H6kJ3kbgfb+qQ8s/g1+bPdqwj6z7LbyGT9ocriiAug67LODqrK0e2zosxbI6np8Dkuw5h2f3/8e1WeyyBxSerNMOchetNu783VTzPkHfJK216cCIC1Dlcx+jXLg2ffNBfo8bBbiWO2JB5FX/SIF+gs9KuGY6uGOoT25M62bADQZi/p3OxJolpPQULos+4j+QTraNo3YNDLGJDPTzVKZricU7dk2Gq4yZwZ0/MNq9m0L3fE1X1Gj73K8j4x1OacCMfMsV+S2BcSk/kxrwgvhz6A3pvc3Y2cm7XB87MijY158ERM+3CiCfILWPFdz68P+FCC7zthKzNVH6mRxquxyKZbKPoVJ6OoI6Y7+xmzBSOKLUFZkT3cqkTM+dBujb+tLLtT30Ezdnr3fQ0="
    - secure: "152syF68FmjUVLg7sQyndApFhS9uXk51OnqvsMIFbBBWo7CK5rmiRYlJvQR+X+ZXZ7xjCEBuytQO49+qILaDCaotIB2GzvjMPuHcZezAUGA5xgbAVGoleFypZ+fcnv2JDvlQfpSPlUubIxPaakf6syPeEfMWMBCv2jKgfO4bcm/jNBalzYToGoVl68WfmUe2EGaJAYKB4CmSN+wuIbaFC3T/hNzVggCQNXHRkoXQVIdqmfmsekeZeqQ81fO6gHhuD3CZxbyuEcsEh7d6oY1jEpKtylDC8b+OTLrSkTx/pgpEZ4frIXA6QGyaGczcnDOhgkeWsnykidLcvtQ/4CXTfi8gm4yc54bRdrBwen0HKfrvP6XWIPzlumNzxqKJ73QY392SCNxT80j5xGHffCuXK6PtflpswXjuVsXa1XYFO6m9KcdV/ubMdUDDdsneWi6P6esYW08f7uE/lIIW76pLVG2SxNt8231QngUtKWz9UaSIIlsvd4rYDix5ip0A0CJW5wB1k6hDZLB8hLuObQGG5tEYBd8q96ExYFNfralbePsaRhj/YN7/IR/h8HYV4ZHaP9Uwr5aePAa4Rm+KioYiFeEaGC5YTU+Q49w2BPH4f5v7JpLGRJgFbRiIeyem0iMUlchGB7KHJSS6SGZXBBr+fy96PRCMUBpaq8TI3H/XkZo="
